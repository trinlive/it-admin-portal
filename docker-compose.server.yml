version: '3.8'

services:
  it-admin-portal-app:
    # ... (‡∏™‡πà‡∏ß‡∏ô Config ‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) ...
    image: it-admin-portal:latest # (‡∏´‡∏£‡∏∑‡∏≠ image ‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì build)
    container_name: it-admin-portal
    restart: always
    environment:
      - NODE_ENV=production
      - PORT=3001
      
      # üëá Config Database & AD (‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°)
      - DB_HOST=it-log-db
      - DB_DIALECT=mysql
      - DB_NAME=${DB_NAME}
      - DB_USER=${DB_USER}
      - DB_PASS=${DB_PASS}
      
      - AD_URL=ldap://samba-ad
      - AD_BASE_DN=${AD_BASE_DN}
      - AD_USER=${AD_USER}
      - AD_PASS=${AD_PASS}
      
      # üëá Google OAuth (‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°)
      - GOOGLE_CLIENT_ID=${GOOGLE_CLIENT_ID}
      - GOOGLE_CLIENT_SECRET=${GOOGLE_CLIENT_SECRET}
      - GOOGLE_CALLBACK_URL=${GOOGLE_CALLBACK_URL}
      - ALLOWED_EMAILS=${ALLOWED_EMAILS}
      - SESSION_SECRET=${SESSION_SECRET}

    networks:
      - app-network
      - cf-network

networks:
  app-network:
    external: true
    name: app-network  # üëà ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏°‡∏≤‡∏Å! ‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏™‡πà‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡∏ô‡∏µ‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏ä‡∏µ‡πâ‡πÑ‡∏õ‡∏ó‡∏µ‡πà Network ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ö samba-ad
  
  cf-network:
    external: true
    name: cf-network   # (‡πÉ‡∏™‡πà‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏±‡∏ß‡∏£‡πå ‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡∏ä‡∏∑‡πà‡∏≠‡πÉ‡∏ô docker network ls)